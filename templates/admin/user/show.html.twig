{% extends 'admin/base.html.twig' %}

{% block left_sidebar %}

{% include 'admin/common/left-sidebar.twig' with { active: 'users-list' } %}

{% endblock %}

{% block main %}
  <h1>Le nom de l'utilisateur : {{ user.username | upper }}</h1>
  
  <h3>Roles: <em class="text-bold"> {{ user.roles|map(role => role|trans )|join(' et ')|raw }}</em></h3>
  
  <h3>Statut du compte 
    {% if user.isActivated %}
        <a 
          href="{{path('admin_user_activated_edit', {id: user.id})}}" class="btn btn-warning">
          Desactiver
        </a>
    {% else %}
        <a 
          href="{{path('admin_user_activated_edit', {id: user.id})}}" class="btn btn-success">
          Activer
        </a>
    {% endif %}
  </h3>
  
  <a class="btn btn-danger delete-item" data-placement="top" data-target="#confirmDeleteUserModal" 
      data-username="{{ user.username }}" data-ad-type="user" data-ad-id="{{ user.id }}" 
      data-ad-name="{{ user.username }}" data-user-id="{{ user.id }}" data-toggle="modal" s
      tyle="cursor:pointer;" title="Supprimer {{ user.username }}"
  >
      <i class="lnr lnr-trash"> Supprimer</i>
  </a>

    <a class="my-3 btn btn-info" href="{{ path('admin_users') }}"><i class="lnr lnr-arrow-left fa-lg"></i> Retourner a la liste</a>

  <div class="modal fade item" id="confirmDeleteUserModal" tabindex="-1" role="dialog" aria-labelledby="confirmDeleteUserModalLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="confirmDeleteUserModalLabel">Confirmation</h4>
                    </div>
                    <div class="modal-body">
                        <p class="text-danger">Voulez-vous vraiment supprimer <strong class="username"></strong> de la base de données ?</p>
                        <p class="alert alert-danger"><span class="fa fa-warning"></span> Cette action est irréversible.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default btn-lg float-left" data-dismiss="modal">Annuler</button>
                        <form action="" method="POST" data-confirmation="true" id="delete-form">
                        <input type="hidden" name="user[delete_token]" value="{{ csrf_token('user.delete_token') }}" />
                        <button type="submit" id="btn-user-delete" class="btn btn-danger btn-lg">
                            <span class="lnr lnr-trash"></span> Supprimer
                        </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
{% endblock %}
